# 我是如何把个人网站从 GitHub Page 迁上阿里云的

## 起因
其实光是我在 GitHub Page 上的个人网站就已经来来回回折腾了三版。可能你会好奇，一个小小的个人网站能折腾出什么花来？  

下面就先借这个机会，记录一下我个人网站的进化之路。（Ps: 想直奔主题的可以直接跳到下一小节）  

大概是在 17 年中旬的时候，毕业不到一年的我想着平日的积累，遇到的问题如果不找个好方法记录一下有点可惜。那要记在哪呢？想了想还是搞个自己的网站比较炫，在什么掘金/简书之类的地方谢谢也太普通了。  

那个时候还舍不得买服务器，调研来调研去就选择了免费的 GitHub Page。  

Emmmmmm... 那是的我还不会 React / Vue / Angular 之类高大上的框架。老老实实写 HTML 吧，写了一小段时间后，怎么想都觉得直接用 HTML 来写博客也太扯淡了，`MarkDown` 用起来多简单啊。 

幸好那个时候我正在学 `Gulp` , 为什么我不先写 `MarkDown` 然后通过 `Gulp` 把写好的东西转为 HTML 呢？  

为了兼容之前写的东西，我先自己实现了一个 `Gulp Plugin` 支持在原有的 HTML 中支持类似 \`\` 的 `MarkDown` 简单语法，并将其转为对应的 HTML 标签。  

Emmmmmm... 终于可以用 `MarkDown` 写博客了，可惜我写的插件还不能支持全部的语法，到这为止第一版的博客搭建完成。  

转眼就到了 18 年初，接触到 React 的我开始跃跃欲试，为什么不用 React 来重构一下我的网站呢？  

由于对 React 还是一知半解，先是摸索着把原来的数据改为了 JSON 格式存储在 js 文件中。（原谅我，那个时候的我还完全不知道有更好的方式）自己学着用 WebPack 搭了个 React 的 SPA ，但是还有个问题就是，在 js 文件中写 `MarkDown` 也很麻烦。而且内容一朵就很难看清楚排版。  

到了 18 年中旬总算是对 React 比较熟了，通过 `React`  开源社区的 `MardDown` Component 和 WebPack 的 `raw-loader` 终于实现了支持完整的 `MarkDown` 语法并且最终可以通过我想要的样式渲染的个人网站，到这为止第二版的博客搭建完成。  

眨眼到了 19 年初，俩年过去了，我的网站也积累了不少的东西。但是问题来了，垃圾百度就是搜不到我写的东西，只有 Google 会把我的网站爬下来。年轻的我以为这是百度对 SPA 的支持不好，不会爬取里面的所有内容。  

怎么办呢？首先 GitHub Page 只支持静态网页，所以 SSR 就别想了。调研了下 GatsbyJs ,好像也不怎么符合我的需求。想了想，最简单的方式就是把原本 React SPA 中的每个页面 HTML 都爬下来，最后的效果就是每篇博客都是一个独立的 HTML 文件。  

这样又不影响我在开发的时候借助 React 的便利，又不影响我最终产出的是一个多页的静态 HTML 文件。抱着这个念头，我找到了 `PrerenderSPAPlugin` 这个 Webpack 插件，完美实现了我的需求。  
到这里我的第三版的博客系统也搭建完成了，然而我还是太年轻，垃圾百度估计是不会去爬 `.github.io` 域名下的东西的，尤其是像我这种访问量小的个人网站。  

秉承着人生贵在折腾的原则，我决定把我的网站迁上阿里云，并买个自己的域名部署，希望垃圾百度这回不要再让我失望。