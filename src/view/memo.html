<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>MinimalistYing.io-Memo</title>
	
	<link rel="shortcut icon" type="image/x-icon" href="./assets/img/favicon.ico">
	<link rel="stylesheet" type="text/css" href="./assets/css/main.css">
</head>
<body>
	<header>
		<h3 class="header-title">MinimalistYing.io</h3>
		<nav>
			<ul>
				<li ><a href="../../index.html">Home</a></li>
				<li class="selected"><a href="./memo.html">Memo</a></li>
				<li ><a href="https://jsfiddle.net/user/MinimalistYing/fiddles/">CodeBase</a></li>
				<li ><a href="https://www.hackerrank.com/MinimalistYing">HackerRank</a></li>
				<li ><a href="https://github.com/MinimalistYing">Github</a></li>
			</ul>
		</nav>
	</header>
	<main class="memo-main">

		<!-- 兼容性相关 -->
		<div class="memo-anchor-target">浏览器兼容性<a class="fake-target" name="compatibility">&nbsp;</a></div>
		<div class="memo-col">
			[- 为了使 `display: inline-block` 在IE8中起作用，必须在文档开头加上 `<!DOCTYPE html>` 并在头部加上 `<meta http-equiv="X-UA-Compatible" content="IE=edge">` 	
			#2017/8/1# -]

			[- 可以通过 `filter : Alpha(opacity = ?)` 来在IE7-8中兼容CSS3的 `opacity` 属性
			#2017/8/13# -]
			
			[- 关于 `<meta http-equiv="X-UA-Compatible" content="IE=edge">` 详情参看<a href="https://stackoverflow.com/questions/6771258/what-does-meta-http-equiv-x-ua-compatible-content-ie-edge-do">这个回答</a>
			#2017/9/5# -]
		</div>
		<div class="memo-col">
			[- IE8中的伪元素只支持类似 `:after` 的写法，不支持 `::after` 的写法
			#2017/8/2# -]

			[- 在IE8下如果在 `table-layout : auto` 的表格中为单元格设置 ```white-space : nowrap  overflow : hidden  text-overflow : ellipsis``` 想实现单元格内文字过长时出现...并截断多余内容会发现无效，反而表格会被内容撑宽，破坏原有布局。要想实现这种效果，只能将表格设为 `table-layout : fixed` 
			#2017/8/16# -]
			
			[- 通过ES5shim和Babel使用新特性Class时如果类并没有继承却在 `contructor()` 中调用了 `super()` 会导致在IE8下报错Stackoverflow。谨记如果没有继承关系则不应该调用 `super()` 方法 
			#2017/9/8# -]
		</div>
		<div class="memo-col">
			[- IE8切换为兼容性视图模式时会将原User-Agent中包含的 `MSIE8.0` 转变为 `MSIE7.0` 所以在通过UA来判断IE版本时尤其要注意
			#2017/8/9# -]
			
			[- Edge和IE11还有Safari好像会试图去识别页面上的数字是否像电话号码，如果像的话会在这些数字下加一个下划线，并使其可点击打开Skype之类的应用拨号(有些邮箱以及地址也同理)，想禁用这一特性可在HTML中加上 ```<meta name="format-detection" content="telephone=no,email=no,address=no">``` 
			#2017/9/1# -]
			
			[-  IE8下可采用 `filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=xxx,endColorstr=xxx);` 来兼容 `rgba()` 
			#2017/9/11# -]
		</div>
		
		<!-- jQuery相关 -->
		<div class="memo-anchor-target">jQuery<a class="fake-target" name="jquery">&nbsp;</a></div>
		<div class="memo-col">
			[- 利用好jQuery的事件命名空间可以减少很多需要在一个Dom元素的同一事件上绑定多个不同回调函数时会碰到的问题，例如 ```$(dom).on('click.a', () => {})  $(dom).on('click.b', () => {})``` 当出于某种原因需要解绑第一个函数时，只需要 `$(dom).off('.a')` 即可实现，同时也不会对b命名空间下的绑定事件有任何影响。如果想触发某个特定空间下的事件，可以通过 `$(dom).trigger('click.b')` 来实现
			#2017/8/29# -]
			
			[- jQuery可以通过 `$(':visible')/$(':hidden')` 来查找可见/不可见的Dom元素(通过判断元素的height和width是否大于0，所以 `opacity:0  visibility: hidden` 的元素会被认为是可见的)。这俩种选择器会带来性能上的问题，尽量避免使用，一定要使用的话也应该先通过纯CSS选择器将目标选出再通过 `$(dom).is(':visible')` 或 `$(dom).is(':hidden')` 判断，或者通过 `$(dom).filter(':visible')` 或 `$(dom).filter(':hidden')` 过滤
			#2017/8/30# -]
		</div>
		<div class="memo-col">
			[- jQuery核心函数的几种重载形式： ```$(($) => {  //文档加载完毕  //相当于$( document ).ready()  })  $('selector') // 选择器  $('selector', parentDom) // 选择器(在父元素的范围下)  $(dom) // 将Dom对象包装成jQuery对象  $(domArray) // 将Dom对象的数组包装成jQuery对象  $() // 1.4以后返回空的jQuery对象  $('<div></div>') // 将Html字符串包装成jQuery对象  $('<div>', {'class': 'a'}) // 生成一个标签并包装成jQuery对象``` 
			#2017/8/30# -]
			
			[- jQuery部分版本(1.10.X 1.8.X 可能还有其它)存在一个很奇怪的Bug，在HTML标签中使用nodeName作为ID(或者input的name)会导致页面报错 `a.nodeName.toLowerCase is not a function` 使用nodeType作为ID会导致$(window)发生变化并且绑定在上面的resize事件会失效。综上所述，以后谨记不要使用nodeName/nodeType/nodeValue作为HEML标签的ID或者name。
			#2017/9/26# -]
		</div>
		<div class="memo-col">
			[- 使用 `$(dom).html('...')` 时需注意防范脚本注入攻击，如果传入的字符串中包含可由用户填写的字段需要先进行转义，更好的办法是尽量使用 `$(dom).text('...')` 
			#2017/8/30# -]
			
			[- 关于 `$.trim()` IE9+应该已经实现了原生的 `String.prototype.trim()` 低版本浏览器可以使用jQuery的方式来实现Polyfill ```function( text ) {  return text == null ?  "" :  ( text + "" ).replace( /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "" );}``` 其正则中的 `\xA0` 代表全角空格 `\uFEFF` 代表BOM头
			#2017/11/14# -]
		</div>
		<!-- Http相关 -->
		<div class="memo-anchor-target">HyperText Transfer Protocol<a class="fake-target" name="http">&nbsp;</a></div>
		<div class="memo-col">
			[- HTTP中的URL中没有具体表明端口号时，默认访问80端口，而HTTPS中的默认端口号为443
			#2017/8/22# -]

			[- 由于TCP具有慢启动特性（不能在连接的开始就将所有的IP分组一次发出，而是只有在一个分组成功确认后才有发出其它俩个分组的权限），所以新连接的速度一般会比已建立好的连接要慢
			#2017/8/25# -]
			
			[- Web服务器也可以接受一个目录的URL请求，类似 `/dir/` 通过配置服务器可以指定不同的返回形式，可以返回一个错误，可以默认的去搜索该目录下的index.html并返回，可以扫描目录返回包含目录内容的html页面(通常这是不安全的，因为这样会把站点的目录结构暴露出来)
			#2017/8/28# -]
			
			[- HTTP常见状态码 ```200 => 请求成功  301 => 资源永久迁移  302 => 资源临时迁移  303 =>需要去另一个地址获取资源  304 => 资源未发生变化  400 => 请求异常  401 => 未授权  403 => 服务器拒绝请求  404 => 未找到  405 => 不支持的请求方法  408 => 请求超时  414 => 请求URL过长  500 => 服务器错误  502 => 网关故障  504 => 网关超时``` 
			#2017/9/19# -]
		</div>
		<div class="memo-col">
			[- 关于URI/URL/URN，URL和URM其实是URI(Uniform Resource Identifier)统一资源定位符的子集。URL不止指定了资源的地址，同时还指定了获取资源的方式（协议/方法等等）。而URN则只通过特定的命名空间标识资源，不关注操作获取资源的方式。
			#2017/8/22# -]

			[- 源IP地址、目标IP地址、源端口号、目标端口号这四个值一起唯一地定义了一个TCP连接
			#2017/8/25# -]
			
			[- HTTP响应中的Date首部应该表示原始服务器最初产生这个对象的日期
			#2017/9/5# -]
			
			[- HTTP协议其实并未对url的长度做过多的限制，但各实际中各浏览器的实现都有着不同的长度限制，RFC2616建议不应超过255 bytes也就是2040bit，实际中是IE浏览器最为严格url最长为2083个字符。所以关于在get请求中传数组这种操作还需慎重考虑。
			#2017/11/14# -]

			[- 关于浏览器的同源策略:域名（需各级域名完全相同）、协议、端口号都相同称谓同源，非同源的请求会存在跨域问题
			#2017/11/17# -]
		</div>
		<div class="memo-col">
			[- HTTP的版本号不会被当作小数来比较，而是每个数字都单独处理，所以假设将来有这么俩个版本HTTP/2.22和HTTP/2.3，前者的版本更高
			#2017/8/23# -]

			[- 通常Web服务器的文件系统会有一个根目录(Document Root)来专门用于存放Web内容，当服务器收到一个对静态资源的请求时会获取其URI并附加在根目录后去寻找相应的文件，例如服务器的根目录为 `/usr/home` 请求为 `/test/haha.gif` 服务器会在文件系统的 `/usr/home/test/haha.gif` 目录下去寻找被请求的资源文件。要注意的是，一个服务器也可能同时提供多个Web站点，它可以通过不同的请求Host或者IP来访问不同的根目录
			#2017/8/28# -]
			
			[-  `Cache-Control : no-store` 禁止代理缓存 `Cache-Control : no-cache  Pragma : no-cache// 兼容HTTP/1.0` 允许缓存，但必须先与服务器进行新鲜度验证，之后才能将内容返回给客户端 `Cache-Control : max-age:66,must-revalidate` 允许缓存，并且只有在内容过期后才必须进行新鲜度验证（在缓存过期时即使服务器错误也不会将这个陈旧的缓存返回给客户端）
			#2017/9/5# -]
			
			[- 通过在Response Header中配置 `Strict-Transport-Security` 可以实现将请求的页面强制重定向至HTTPS协议访问
			#2018/1/31# -]
		</div>

		<!-- 其它没法归类的 -->
		<div class="memo-anchor-target">杂项<a class="fake-target" name="other">&nbsp;</a></div>
		<div class="memo-col">
			[- 在自测与后台有交互，会发送请求的地方时一定要注意在Chrome的Network中观察发送请求的URL、参数等是否符合预期，同时也要注意考虑请求返回失败或返回空结果时页面UI的展示
			#2017/8/6# -]

			[- 正则表达式中的 `.` 可以用于匹配除换行符外的所有字符,如果想匹配含换行符在内的所有字符可以使用 `[\s\S]` 
			#2017/8/20# -]	
			
			[- 在HTML中属性可以用双引号、单引号、甚至不用引号包围，浏览器都是支持的。所以Google为了节省字节会采用不用引号的风格，大概对访问量极大的网站这也是一种省钱的方式吧
			#2017/9/4# -]
			
			[- 当页面的UI需要在后台数据返回后进行刷新时，一定要考虑到网络极差的情况下，请求会延迟很久后返回。这期间UI要怎样展示，或者用户能否进行操作，会不会有遗留的表单数据等等。
			#2017/9/13# -]
			
			[- 关于正则表达式量词(Regexp Quantifier) ```? => {0,1}  + => {1,}  * => {0,}``` 如果只有一个量词则为贪婪匹配，会尽可能的匹配更多结果。如果量词后附加后缀?则进行非贪婪匹配。
			#2017/9/28# -]

			[- 由于node有许多底层依赖包需要依靠c++,所以需要额外安装 `node-gyp` 提供跨平台的编译支持，安装之前需要先装好相应的python/c++等环境，根据官方文档 `npm install --global --production windows-build-tools` 即可（很多情况下的npm安装失败可能都是因为这个没装好）
			#2017/11/17# -]	
		</div>
		<div class="memo-col">
			[- 关于采集站点的PV、UV数据，传统的做法是当页面load完成后像后台发送数据，当作一次PV<br>
			但在SPA(Single Page App)以及PWA(Progressive Web App)的情景下，这样的断定方式显得不那么合理，用户有可能一天中只Load一次页面然后在一天的任意时间段在这个应用中活动而不需要再一次Load页面<br>
			考虑用更新的方式进行统计可能比较合理，例如借助<a href="https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API">Page Visibility API</a>在用户初次打开应用浏览以及过去合理的一段时间后(可以用Session持续的最长时间来判断)后从其它再次切换到这个Tab页都作为一次PV<br>
			详情可见这篇<a href="https://philipwalton.com/articles/how-we-track-pageviews-is-all-wrong/">Blog</a>
			#2017/8/14# -]

			[- 在新的HTML5规范中，如果一个元素拥有ID属性，那么ID属性的属性值就会成为window对象的属性名，属性值就是ID对应的元素。如果下列标签中的元素拥有name属性 `<a> <applet> <area> <embed> <form> <frame> <frameset> <iframe> <img> <object>` 那么name属性的属性值就会成为window对象的属性名。例如页面上有这么一个元素 `<div id="a"></div>` 在script中 ```console.info(a)  //结果为<div id="a"></div>``` 
			#2017/8/23# -]
			
			[-  `<meta http-equiv="Content-Type" content="text/html; charset=utf-8">  <meta charset="utf-8">` 在HTML中俩者都可用来表明页面所采用的字符集，各浏览器的兼容性良好，但后者更短建议采用后者
			#2017/9/5# -]
			
			[- 匹配中文字符（简繁体都包含）的正则 `/^[\u4e00-\u9fa5]+$/` 暂时无法确认其是否完全正确
			#2017/11/9# -]
		</div>
		<div class="memo-col">
			[- HTML5新增了 `input` 事件来监听文本框的输入变化，但在IE9下存在用户删除输入或剪切文本时不会触发该事件的Bug,并且IE8下没有该事件，需同时监听 `propertychange` 来实现兼容IE8
			#2017/8/17# -]
			
			[- 阅读垠神博客有感  1.会写程序不是一件很了不起的事情，不要自负  2.语言、框架都只是工具，会用即可，不必过于推崇，重要的是我们脑海里的思想  3.开发软件也是一种工程，一定要极力避免Bug，这才是一个工程师该做的  4.面对同事、新人的提问请耐心解答，不要动不动就让提问者自行Google  5.不要觉得向他人提问是什么难为情的事，世界上总有东西是你不清楚的，哪怕是你日常工作所用的东西  6.复杂的代码不是显示能力的途径，简单易懂的才是
			#2017/8/30# -]
			
			[- 关于HTML中的相对路径 `./` 是文档相对路径，也就是当前访问页面的路径 `/` 是基于站点根目录的相对路径，举例说明访问网址http://0.0.0.0/1/2/son.html ```./test.js => http://0.0.0.0/1/2/test.js  /test.js => http://0.0.0.0/test.js``` 
			#2017/9/13# -]
			
			[- npm安装node-sass报错 `%1 is not a valid Win32 application` 看了看报错信息大概是说什么东西下载失败导致的，切换成淘宝镜像用cnmp安装就好了 `npm install -g cnpm --registry=https://registry.npm.taobao.org` 
			#2017/11/14# -]	
			
			[- 页面上引用静态资源时的相对路径与绝对路径的区别， `src="xx.js"` 相对于当前页面的路径， `src="./xx.js"` 相对于当前页面的路径， `src="../xx.js"` 相对与当前页面的上级路径， `src="/xx.js"` 相对于根目录路径， `src="http//:xx.com/xx.js"` 绝对路径   
			#2018/3/26# -]
			
			[- 避免浏览器缓存HTML页面可以在head中加上标签 `<meta http-equiv="Cache-Control" content="no-store">` 通常会采用 `no-cache` 的策略，只有在服务器的资源发生变化时才去再重新拉取，否则返回304采用缓存的资源
			#2018/4/20# -]
		</div>
	</main>

	<!-- 右侧导航 -->
	<aside class="memo-anchor">
		<ul>
			<li><a href="#_javascript">JavaScript</a></li>
			<li><a href="#_css">CSS</a></li>
			<li><a href="#_compatibility">兼容性</a></li>
			<li><a href="#_gulp">Gulp</a></li>
			<li><a href="#_webpack">Webpack</a></li>
			<li><a href="#_jquery">jQuery</a></li>
			<li><a href="#_react">React</a></li>
			<li><a href="#_vue">Vue</a></li>
			<li><a href="#_http">HTTP</a></li>
			<li><a href="#_other">杂项</a></li>
		</ul>
	</aside>

	<script type="text/javascript" src="./assets/js/main.js"></script>
</body>
</html>
