# Dynamic Programming å…¥é—¨ï¼ˆä¸€ï¼‰

## èµ·
åŠ¨æ€è§„åˆ’çš„æ€è·¯å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜æ‹†è§£ä¸ºä¸€ä¸ªä¸ªå¯é€’å½’è§£å†³çš„ç›¸å¯¹ç®€å•çš„å­é—®é¢˜ã€‚ä½†æ˜¯åœ¨å®è·µä¸­ï¼Œæ€æ ·æ‰¾åˆ°é—®é¢˜çš„è§„å¾‹ï¼Œæ€æ ·å»åˆç†çš„å»æ‹†è§£ï¼Œä»¥åŠæ€æ ·å¤„ç†ä¸€äº›é™åˆ¶æ¡ä»¶å°±å¾—èŠ±ç‚¹åŠŸå¤«äº†ã€‚  

ä¸ªäººç»éªŒæ˜¯å¤šç»ƒã€å¤šæƒ³ã€å¤šå†™ï¼Œæ²¡æœ‰å¤ªå¤šæ·å¾„ï¼Œå…‰çœ‹åˆ«äººçš„è§£æ³•æ˜¯æŒæ¡ä¸äº† DP çš„ã€‚  

ä¸‹é¢æ‹¿ä¸‰ä¸ªæˆ‘è®¤ä¸ºæ¯”è¾ƒç»å…¸çš„å…¥é—¨ä¾‹å­æ¥è¿›è¡Œåˆ†æã€‚

## æ–æ³¢é‚£å¥‘æ•°
![Fibonacci Number](https://pic.imgdb.cn/item/63bfc0a1be43e0d30ec7044c.jpg)

è¿™ä¸ªåº”è¯¥ç®—æ˜¯æœ€æœ€æœ€æœ€ç®€å•çš„ DP äº†ï¼Œä½†æ˜¯èƒ½å¾ˆå¥½çš„é˜è¿°åŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚  

å‡è®¾æˆ‘ä»¬æƒ³è¦å¾—åˆ°ç¬¬ 100 ä½æ–æ³¢é‚£å¥‘æ•°ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“ç¬¬ 99 ä½å’Œç¬¬ 98 ä½çš„å€¼ï¼Œä¿©è€…ç›¸åŠ å°±èƒ½å¾—åˆ°ç¬¬ 100 ä½çš„å€¼ã€‚ç…§è¿™ä¸ªé€»è¾‘ä¾æ¬¡é€’å½’ä¸‹å»å°±ç±»ä¼¼ï¼š  

* F(100) = F(99) + F(98)
* F(100) = F(98) + F(97) + F(97) + F(96)
* ....
* F(2) = F(1) + F(0) = 1 + 0 = 1

å°†è¿™ä¸ªè¿‡ç¨‹æŠ½è±¡å‡ºæ¥å°±æ˜¯ï¼š
> F(n) = F(n - 1) + F(n - 2)

ç„¶åä»£ç å°±å¾ˆç®€å•äº†ï¼š
```js
function fib(n) {
  if (n === 0 || n === 1) return n

  return fib(n - 1) + fib(n - 2)
}
```

## æ‰“å®¶åŠ«èˆ
![æ‰“å®¶åŠ«èˆ](https://pic.imgdb.cn/item/63bfc013be43e0d30ec5987a.jpg)

ç¢°åˆ°è¿™ç±»æ±‚æœ€å¤§/æœ€å°å€¼çš„æƒ…å†µï¼Œéƒ½å¯ä»¥è¯•ç€å…ˆä» DP å…¥æ‰‹è§£ä¸€ä¸‹ã€‚  

å› ä¸ºé™åˆ¶æ¡ä»¶æ˜¯ä¸èƒ½è¿ç»­å…‰é¡¾ç›¸é‚»çš„ä¿©å®¶ï¼Œæ‰€ä»¥å‡è®¾æˆ‘ä»¬ä»æœ€æœ«ç«¯çš„ä¸€å®¶å¼€å§‹æ‹œè®¿ã€‚é‚£ä¹ˆæ¯æ¬¡æˆ‘ä»¬éƒ½ä¼šæœ‰ä¿©ç§é€‰æ‹©ï¼Œè¿™ä¸€å®¶æˆ–è€…ä»–å‰é¢çš„é‚»å±…ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ä¿©è€…éƒ½é€‰ï¼Œå› ä¸ºä¼šè¢«æŠ“ã€‚ä¹Ÿä¸èƒ½ä¿©è€…éƒ½ä¸é€‰ï¼Œå› ä¸ºä¼šè®©æˆ‘ä»¬æŸå¤±æƒ¨é‡ã€‚  

è¿˜æ˜¯è¯•ç€æŠ½è±¡ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š
> F(n) = max(F(n - 1), F(n - 2) + Arr[n])

ç”±äºæ¯ä¸€æ­¥å¾—å‡ºçš„ç»“æœéƒ½æ˜¯å½“å‰å¯èƒ½çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥æœ€åç›´æ¥è¿”å›å³å¯ã€‚

```js
function rob(nums) {

  function dp(n) {
    if (n < 0) return 0
    
    return Math.max(
      dp(n - 1),
      dp(n - 2) + nums[n]
    )
  }

  return dp(nums.length - 1)
}
```
å†ä¼˜åŒ–ä¸€ä¸‹ï¼ŒåŠ ä¸ªç¼“å­˜ï¼Œè¿™æ ·æ•ˆç‡ä¼šé«˜å¾ˆå¤šã€‚
```js
function rob(nums) {
  const cache = new Map()

  function dp(n) {
    if (n < 0) return 0

    if (cache.has(n)) return cache.get(n)

    const re = Math.max(
      dp(n - 1),
      dp(n - 2) + nums[n]
    )

    cache.set(n, re)
    
    return re
  }

  return dp(nums.length - 1)
}
```

## æœ€å¤§å­æ•°ç»„å’Œ
![æœ€å¤§å­æ•°ç»„å’Œ](https://pic.imgdb.cn/item/63bfc06fbe43e0d30ec6af8b.jpg)

è¿™ä¸ªé—®é¢˜å°±å˜å¾—ç¨å¾®å¤æ‚ä¸€ç‚¹ğŸ¤ã€‚  

è¿˜æ˜¯æŒ‰ç…§æ‹†è§£é—®é¢˜çš„æ€è·¯æ¥ï¼Œæƒ³è¦è®¡ç®—ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„çš„æœ€å¤§å­æ•°å’Œï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè¯•ç€å»è®¡ç®—ä¸‹æ ‡ä¸º 0 è‡³ n-1 çš„å­æ•°ç»„çš„çš„æœ€å¤§å­æ•°å’Œã€‚ç„¶ååŠ ä¸Šæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼å¯èƒ½å°±æ˜¯è¯¥æ•°ç»„çš„æœ€å¤§å­æ•°å’Œã€‚  

æ³¨æ„ä¸Šé¢æˆ‘ç”¨äº†å¯èƒ½ï¼Œå› ä¸ºå‡è®¾æ•°ç»„æœ€åä¸€é¡¹æ˜¯è´Ÿæ•°ï¼Œé‚£æ˜¾ç„¶ä¸åŠ å¾—åˆ°çš„å€¼æ¥çš„æ›´å¤§ã€‚  

å¦å¤–å†è€ƒè™‘ä¸€ç§æƒ…å†µï¼Œå‡è®¾ 0 è‡³ n-1 çš„å­æ•°ç»„æœ€å¤§å­æ•°åˆä¸ºè´Ÿæ•°ã€‚é‚£è¿™ä¸ªæ—¶å€™å½“ç„¶æ˜¯æŠŠå‰é¢çš„å€¼éƒ½å»æ‰ï¼Œæœ€åå¾—åˆ°çš„ç»“æœæ›´å¤§ã€‚  

æ¥ä¸‹æ¥è¯•ç€æŠ½è±¡è¿™ä¸ªè¿‡ç¨‹ï¼š
> F(n) = F(n - 1) > 0 ? F(n - 1) + A[n] : A[n] 

åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯¹æ¯ä¸€æ¬¡ F(n) çš„è®¡ç®—ç»“æœå–æœ€å¤§å€¼ï¼Œå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆã€‚

```js
function maxSubArray(nums) {
  let max = Number.NEGATIVE_INFINITY

  function dp(n) {
    let re = null
    if (n === 0) {
      re = nums[0]
    } else {
      const last = dp(n - 1)
      re = last > 0 ? last + nums[n] : nums[n]
    }

    max = Math.max(max, re)
    return re
  }

  dp(nums.length - 1)

  return max
}
```

## é“¾æ¥
* [509. Fibonacci Number](https://leetcode.com/problems/fibonacci-number/description/)
* [53. Maximum Subarray](https://leetcode.com/problems/maximum-subarray/description/)
* [198. House Robber](https://leetcode.com/problems/house-robber/description/)